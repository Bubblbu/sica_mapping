<style>
  #sidebar-container {
    position: fixed;
    top: 10px;
    left: 10px;
    bottom: 10px;

    width: $ {
      sidebar_width
    }

    px;
    background: #fff;
    z-index: 9999;
    border: 1px solid #ccc;
    border-radius: 10px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    display: flex;
    flex-direction: column;
    resize: horizontal;
    min-width: 300px;
    max-width: 760px;
    overflow: hidden;
  }

  #sidebar-container .pane-resize-handle {
    position: absolute;
    top: 0;
    right: -4px;
    width: 8px;
    bottom: 0;
    cursor: ew-resize;
    z-index: 10000;
    user-select: none;
  }

  #sidebar-container .pane-resize-handle::after {
    content: "";
    position: absolute;
    top: 0;
    bottom: 0;
    left: 3px;
    width: 2px;
    background: #d0d0d0;
  }

  #sidebar-tabs {
    display: flex;
    border-bottom: 1px solid #ddd;
  }

  #sidebar-tabs button {
    flex: 1;
    padding: 8px 10px;
    background: #f7f7f7;
    border: none;
    cursor: pointer;
    font-weight: 600;
  }

  #sidebar-tabs button.active {
    background: #e6e6e6;
  }

  #sidebar-content {
    flex: 1;
    overflow: hidden;
  }

  .pane {
    display: none;
    height: 100%;
  }

  .pane.active {
    display: flex;
    flex-direction: column;
  }

  .pane.active .table-wrap {
    flex: 1;
  }

  .table-controls {
    padding: 8px 10px 0;
    display: none;
  }

  .table-wrap {
    flex: 1;
    overflow: auto;
    padding: 10px;
  }

  table.data {
    width: 100%;
    border-collapse: collapse;
    font-size: 12px;
  }

  table.data thead th {
    position: sticky;
    top: 0;
    background: #fafafa;
    border-bottom: 1px solid #ddd;
    text-align: left;
    padding: 6px;
  }

  table.data tbody td {
    border-bottom: 1px solid #eee;
    padding: 6px;
  }

  table.data tbody tr:hover {
    background: #fff4e5;
  }

  table.data thead th[data-sort]:not([data-sort="none"]) {
    cursor: pointer;
  }

  table.data thead th[data-sort-dir="asc"]::after {
    content: " ▲";
    font-size: 10px;
    color: #777;
  }

  table.data thead th[data-sort-dir="desc"]::after {
    content: " ▼";
    font-size: 10px;
    color: #777;
  }

  table.data tbody tr.selected {
    background: #ffe5c2;
  }

  table.data tbody tr.hidden {
    display: none;
  }

  td.select-cell,
  th.select-head {
    width: 52px;
    text-align: center;
  }

  td.select-cell input {
    cursor: pointer;
  }

  table.data tfoot {
    position: sticky;
    bottom: 0;
    background: #fafafa;
    border-top: 1px solid #ddd;
  }

  table.data tfoot td {
    font-weight: 600;
    padding: 6px;
  }
</style>
<div id="sidebar-container">
  <div class="pane-resize-handle" data-target="#sidebar-container" data-side="right" data-min-width="300"
    data-max-width="760" aria-hidden="true"></div>
  <div id="sidebar-tabs">
    <button id="tab-landlords" class="active">Landlords</button>
    <button id="tab-buildings">Buildings</button>
    <button id="tab-blocks">Blocks</button>
  </div>
  <div id="sidebar-content">
    <div id="pane-landlords" class="pane active">
      <div class="table-wrap">
        <table class="data" id="landlords-table">
          <thead>
            <tr>
              <th class="select-head" data-sort="none">Select</th>
              <th data-sort="text">Landlord</th>
              <th data-sort="number">Bldgs</th>
              <th data-sort="number">Units</th>
              <th data-sort="number">VTU bldgs</th>
              <th data-sort="number">VTU mem</th>
              <th data-sort="number">Share (%)</th>
              <th data-sort="number">Members / 100 units</th>
            </tr>
          </thead>
          <tbody>$landlords_rows</tbody>
        </table>
      </div>
    </div>
    <div id="pane-buildings" class="pane">
      <div class="table-controls"></div>
      <div class="table-wrap">
        <table class="data" id="buildings-table">
          <thead>
            <tr>
              <th class="select-head" data-sort="none">Select</th>
              <th data-sort="text">Address</th>
              <th data-sort="text">Neighbourhood</th>
              <th data-sort="number">Block</th>
              <th data-sort="number">Units</th>
              <th data-sort="number">Members</th>
              <th data-sort="number">Share (%)</th>
              <th data-sort="text">Landlord</th>
              <th data-sort="number">Year</th>
            </tr>
          </thead>
          <tbody>$buildings_rows</tbody>
          <tfoot>
            <tr class="summary-row">
              <td></td>
              <td colspan="3" id="summary-buildings-label">Totals (visible)</td>
              <td id="summary-buildings-units">0</td>
              <td id="summary-buildings-members">0</td>
              <td></td>
              <td colspan="2" id="summary-buildings-rows">0 rows</td>
            </tr>
          </tfoot>
        </table>
      </div>
    </div>
    <div id="pane-blocks" class="pane">
      <div class="table-wrap">
        <table class="data" id="blocks-table">
          <thead>
            <tr>
              <th class="select-head" data-sort="none">Select</th>
              <th data-sort="number">Block</th>
              <th data-sort="number">Bldgs</th>
              <th data-sort="number">Units</th>
              <th data-sort="number">Med Yr</th>
              <th data-sort="number">VTU bldgs</th>
              <th data-sort="number">VTU mem</th>
              <th data-sort="number">Share (%)</th>
            </tr>
          </thead>
          <tbody>$blocks_rows</tbody>
        </table>
      </div>
    </div>

  </div>
</div>