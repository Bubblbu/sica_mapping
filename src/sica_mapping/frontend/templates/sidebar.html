<style>
  html,
  body {
    height: 100%;
    width: 100%;
    margin: 0;
    padding: 0;
  }

  body {
    display: flex;
    flex-direction: row;
    align-items: stretch;
    background: #f0f2f7;
    color: #1d2129;
    overflow: hidden;
  }

  body>.folium-map {
    order: 1;
    flex: 1 1 auto;
    min-width: 0;
    height: 100%;
    position: relative;
  }

  body>.folium-map>div {
    height: 100%;
    width: 100%;
  }

  #sidebar-container {
    order: 0;
    width: 900px;
    min-width: 280px;
    max-width: 900px;
    height: 100%;
    background: #fff;
    border-right: 1px solid #d7dbe5;
    box-shadow: 2px 0 6px rgba(15, 23, 42, 0.08);
    display: flex;
    flex-direction: column;
    position: relative;
    overflow: hidden;
    z-index: 2;
  }

  #sidebar-container .pane-resize-handle {
    position: absolute;
    top: 0;
    right: -4px;
    width: 8px;
    bottom: 0;
    cursor: ew-resize;
    user-select: none;
  }

  #sidebar-container .pane-resize-handle::after {
    content: "";
    position: absolute;
    top: 20px;
    bottom: 20px;
    left: 3px;
    width: 2px;
    background: #d0d4dd;
    border-radius: 2px;
  }

  #sidebar-tabs {
    display: flex;
    border-bottom: 1px solid #e3e7f0;
    background: #f7f8fb;
  }

  #sidebar-tabs button {
    flex: 1;
    padding: 10px 12px;
    background: transparent;
    border: none;
    border-right: 1px solid #e3e7f0;
    cursor: pointer;
    font-weight: 600;
    font-size: 13px;
    color: #27354a;
  }

  #sidebar-tabs button:last-child {
    border-right: none;
  }

  #sidebar-tabs button.active {
    background: #e6ecf7;
  }

  #sidebar-content {
    flex: 1;
    overflow: hidden;
    display: flex;
    flex-direction: column;
  }

  .pane {
    display: none;
    flex: 1;
    min-height: 0;
  }

  .pane.active {
    display: flex;
    flex-direction: column;
    min-height: 0;
  }

  .table-controls {
    padding: 8px 12px 0;
    display: none;
  }

  .table-wrap {
    flex: 1;
    overflow: auto;
    padding: 12px;
  }

  table.data {
    width: 100%;
    border-collapse: collapse;
    font-size: 12px;
    color: #1d2129;
  }

  table.data thead th {
    position: sticky;
    top: 0;
    background: #f9fafc;
    border-bottom: 1px solid #e0e5f2;
    text-align: left;
    padding: 6px;
    z-index: 1;
  }

  table.data tbody td {
    border-bottom: 1px solid #eef1f8;
    padding: 6px;
  }

  table.data tbody tr:hover {
    background: #fff4e5;
  }

  table.data thead th[data-sort]:not([data-sort="none"]) {
    cursor: pointer;
  }

  table.data thead th[data-sort-dir="asc"]::after {
    content: " ▲";
    font-size: 10px;
    color: #6b7280;
  }

  table.data thead th[data-sort-dir="desc"]::after {
    content: " ▼";
    font-size: 10px;
    color: #6b7280;
  }

  table.data tbody tr.selected {
    background: #ffe5c2;
  }

  table.data tbody tr.hidden {
    display: none;
  }

  td.select-cell,
  th.select-head {
    width: 52px;
    text-align: center;
  }

  td.select-cell input {
    cursor: pointer;
  }

  table.data tfoot {
    position: sticky;
    bottom: 0;
    background: #f9fafc;
    border-top: 1px solid #e0e5f2;
  }

  table.data tfoot td {
    font-weight: 600;
    padding: 6px;
  }
</style>
<div id="sidebar-container">
  <div class="pane-resize-handle" data-target="#sidebar-container" data-side="right" data-min-width="280"
    data-max-width="760" aria-hidden="true"></div>
  <div id="sidebar-tabs">
    <button id="tab-landlords" class="active">Landlords</button>
    <button id="tab-buildings">Buildings</button>
    <button id="tab-blocks">Blocks</button>
  </div>
  <div id="sidebar-content">
    <div id="pane-landlords" class="pane active">
      <div class="table-wrap">
        <table class="data" id="landlords-table">
          <thead>
            <tr>
              <th class="select-head" data-sort="none">Select</th>
              <th data-sort="text">Landlord</th>
              <th data-sort="number">Bldgs</th>
              <th data-sort="number">Units</th>
              <th data-sort="number">VTU bldgs</th>
              <th data-sort="number">VTU mem</th>
              <th data-sort="number">Share (%)</th>
              <th data-sort="number">Members / 100 units</th>
            </tr>
          </thead>
          <tbody>$landlords_rows</tbody>
        </table>
      </div>
    </div>
    <div id="pane-buildings" class="pane">
      <div class="table-controls"></div>
      <div class="table-wrap">
        <table class="data" id="buildings-table">
          <thead>
            <tr>
              <th class="select-head" data-sort="none">Select</th>
              <th data-sort="text">Address</th>
              <th data-sort="text">Neighbourhood</th>
              <th data-sort="number">Block</th>
              <th data-sort="number">Units</th>
              <th data-sort="number">Members</th>
              <th data-sort="number">Share (%)</th>
              <th data-sort="text">Landlord</th>
              <th data-sort="number">Year</th>
            </tr>
          </thead>
          <tbody>$buildings_rows</tbody>
          <tfoot>
            <tr class="summary-row">
              <td></td>
              <td colspan="3" id="summary-buildings-label">Totals (visible)</td>
              <td id="summary-buildings-units">0</td>
              <td id="summary-buildings-members">0</td>
              <td></td>
              <td colspan="2" id="summary-buildings-rows">0 rows</td>
            </tr>
          </tfoot>
        </table>
      </div>
    </div>
    <div id="pane-blocks" class="pane">
      <div class="table-wrap">
        <table class="data" id="blocks-table">
          <thead>
            <tr>
              <th class="select-head" data-sort="none">Select</th>
              <th data-sort="number">Block</th>
              <th data-sort="number">Bldgs</th>
              <th data-sort="number">Units</th>
              <th data-sort="number">Med Yr</th>
              <th data-sort="number">VTU bldgs</th>
              <th data-sort="number">VTU mem</th>
              <th data-sort="number">Share (%)</th>
            </tr>
          </thead>
          <tbody>$blocks_rows</tbody>
        </table>
      </div>
    </div>
  </div>
</div>